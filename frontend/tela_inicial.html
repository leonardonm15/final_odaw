<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ODAW - Tela Inicial</title>
  <!-- importante: certifique-se de que este arquivo está no mesmo diretório -->
  <link rel="stylesheet" href="tela_inicial.css">
</head>
<body>
  <div class="stage" role="main" aria-label="Tela inicial">

    <!-- grande arco decorativo no canto inferior esquerdo -->
    <div class="arc left-bottom" aria-hidden="true"></div>

    <!-- decorative asterisks -->
    <div class="asterisk left-top">
      <svg width="48" height="48" viewBox="0 0 64 64">
        <g stroke="currentColor" stroke-width="6" stroke-linecap="round">
          <path d="M32 8 L32 56"/>
          <path d="M8 32 L56 32"/>
          <path d="M14 14 L50 50"/>
          <path d="M50 14 L14 50"/>
        </g>
      </svg>
    </div>

    <div class="asterisk right-bottom">
      <svg width="48" height="48" viewBox="0 0 64 64">
        <g stroke="currentColor" stroke-width="6" stroke-linecap="round">
          <path d="M32 8 L32 56"/>
          <path d="M8 32 L56 32"/>
          <path d="M14 14 L50 50"/>
          <path d="M50 14 L14 50"/>
        </g>
      </svg>
    </div>

    <!-- header / usuário logado -->
    <header class="topbar" role="banner">
      <div class="profile-info">
        <span id="userName" class="user-name"></span>
        <button id="logoutBtn" class="ghost-button" type="button">Sair</button>
      </div>
    </header>

    <!-- conteúdo central: menu com 3 itens (substitua os href conforme suas páginas) -->
    <section class="center" role="region" aria-label="Menu principal">
      <nav class="menu" role="navigation" aria-label="Opções principais">
        <a href="explorar_musicas.html" class="menu-item">Explorar álbuns</a>
        <a href="minhas_musicas.html" class="menu-item">Minhas músicas</a>
        <a href="playlists.html" class="menu-item">Minhas playlists</a>
      </nav>
    </section>

  </div>

  <script>
    function getUsuarioLogado() {
      try {
        const raw =
          localStorage.getItem("usuarioLogado") ||
          localStorage.getItem("usuariologado") ||
          localStorage.getItem("app_user") ||
          sessionStorage.getItem("usuarioLogado") ||
          sessionStorage.getItem("app_user");
        if (!raw) return null;
        return JSON.parse(raw);
      } catch (e) {
        console.error("Erro ao ler usuário logado", e);
        return null;
      }
    }

    function limparSessao() {
      localStorage.removeItem("usuarioLogado");
      localStorage.removeItem("usuariologado");
      localStorage.removeItem("app_user");
      sessionStorage.removeItem("usuarioLogado");
      sessionStorage.removeItem("app_user");
    }

    document.addEventListener("DOMContentLoaded", () => {
      const user = getUsuarioLogado();
      const userNameEl = document.getElementById("userName");
      if (!user) {
        userNameEl.textContent = "Não autenticado";
        window.location.href = "login.html";
        return;
      }
      userNameEl.textContent =
        user.nome ||
        user.name ||
        user.username ||
        user.email ||
        "Usuário";

      document.getElementById("logoutBtn").addEventListener("click", () => {
        limparSessao();
        window.location.href = "login.html";
      });
    });
  </script>
</body>
</html>
